---
title: "Programación en R para el análisis de la calidad del aire"
author: "(c) Dr. Jair Carrillo"
date: "08-12-2024"
date-format: full
lang: es
format:
  revealjs: 
    theme: night
    chalkboard: true
    footer: "Reunión anual: Red Delfin de Contaminación Atmosférica"
  
editor: visual
---

```{r}
#| echo: false

library(pacman)
p_load(tidyverse,
       openair,
       openairmaps,
       gt)
```

```{r}
source("clean_script.R")
```


# Semblanza {style="font-size: 0.8em; text-align:justify"}

:::incremental
- Investigación: "


- Supervisor de calidad en la Secretaría de Medio Ambiente del Estado de Nuevo León

![](main_presentation_files/figure-presentation/sima.jpg){.absolute top=270 left=900 width="200" height="150"}


- Consultor ambiental 

![](main_presentation_files/figure-presentation/consultoria.jpg){.absolute top=500 left=900 width="100" height="150"}
:::
# Introducción

# ¿ Que es r y Rstudio? {style="font-size: 0.8em; text-align:justify"}

r es un software gratuito y con un ambiente para generar **computación estadística** y **gráficas de alto nivel**. Las principales características que posee este software son:

::: incremental
-   Orientado a objetos
-   Colección de funciones enfocadas en temas específicos (Paquetes)
-   Repositorio CRAN (+10,000 paquetes) y de la comunidad
-   Paquetes respaldados por la comunidad de R
:::

![](main_presentation_files/figure-presentation/r_logo.png){.absolute top=500 left=450 width="100" height="100"}


::: notes
Los paquetes son un conjunto de funciones que han sido revisadas por la comunidad y el CRAN, dandole una mayor confiabilidad al paquete que se encuentra en CRAN, en el caso de los paquetes hechos por la comunidad no se tiene la certeza de tener un mantenimiento constante o en su defecto, si las funciones son correctas. 
:::
--- 

# {style="font-size: 0.8em; text-align:justify"}

Rstudio (Posit) es una IDE que permite desarrollar códigos del software r, haciendo más sencillo su uso. A partir de 2023, se puede correr códigos del software python, haciendo más dinámico emplear ambos tipos de software para extraer información, ordenarla, aplicar diversos análisis estadísticos, visuliazarlos y compartirlos.

![](main_presentation_files/figure-presentation/Rstudio-Logo-Flat.png){.absolute top=400 left=600 width="250" height="90"}

## Openair y Openairmaps {style="font-size: 0.8em; text-align:justify"}

Paqueterías especializadas en el tratamiento de información referente a contaminación atmosférica. Diseñados por el Dr. David Carslaw de la universidad de York en Inglaterra. 

- Openair: Conjunto de funciones que permiten limpiar, ordenar y visualizar diversos conjuntos de datos sobre calidad del aire. 

![](main_presentation_files/figure-presentation/logo.png){.absolute top=450 left=450 width="200" height="200"}

---

# {style="font-size: 0.8em; text-align:justify"}

- Openairmaps: Conjunto de funciones que permiten visualizar espacialmente diversos conjuntos de datos enfocados en datos meteorológicos y de calidad del aire.

![](main_presentation_files/figure-presentation/openairmaps.png){.absolute top=400 left=450 width="190" height="200"}

# Caso de Estudio

## Zona metropolitana de Monterrey (ZMM) {style="font-size: 0.8em; text-align:justify"}

De acuerdo al último informe del Sistema Nacional de Información de la Calidad del Aire (SINAICA), la ZMM ocupa los primeros lugares de altas concentraciones de los siguientes contaminantes:

::: Incremental
-PM~10~

-PM~2.5~

-O~3~
:::

## Análisis Exploratorio de los Datos (EDA)

```{r}
eda_pm10 <- pollution_call("PM10") |> 
  select(-file_path,) |> 
  openair::aqStats(pollutant = "concentracion",type="nombre_estacion") |> 
  select(-pollutant)

eda_pm10
  
```



## Slide with speaker notes

Slide content

::: notes
Esta lamina habla con la importancia de contar con un guión
:::

## Ejemplo

```{r}
#| echo: false
#| output-location: slide
library(ggplot2)
ggplot(airquality, aes(Temp, Ozone)) + 
  geom_point() + 
  geom_smooth(method = "loess")
  
```
